general:
  branches:
    only:
      - master

dependencies:
    pre:
        # Install a few packages which will be needed for building the cross compiler.
      - sudo add-apt-repository ppa:ubuntu-toolchain-r/test && sudo apt-get update && sudo apt-get install gcc-4.8 g++-4.8
#      - sudo apt-get install g++-5.0
      - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 90
      - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 90
  # https://github.com/travis-ci-tester/travis-test-clang-cxx-11
      - sudo apt-get install libstdc++-4.8-dev
#install cmake
      - wget http://www.cmake.org/files/v3.2/cmake-3.2.2.tar.gz
      - openssl sha1 cmake-3.2.2.tar.gz
      - tar xf cmake-3.2.2.tar.gz
      - cd cmake-3.2.2 && ./bootstrap --prefix=~ && make && make install && cd ..
      - export PATH="~/bin:${PATH}"
      - pwd
      - ls

#cppunittest
      - sudo apt-get install libcppunit-dev
      - sudo apt-get install -y build-essential
      - sudo apt-get install -y cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev
      - sudo apt-get install -y python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev
      - sudo apt-get -yV update;
      - sudo apt-get -yV install cmake libeigen3-dev
      - sudo apt-get -yV install opencl-headers libtbb-dev
      - sudo apt-get -yV install libjpeg-dev libjasper-dev libpng++-dev libtiff-dev libopenexr-dev libwebp-dev
      - bash script/install-opencv.sh


#Boost
      - wget -O boost_1_55_0.tar.gz http://sourceforge.net/projects/boost/files/boost/1.55.0/boost_1_55_0.tar.gz/download
      - tar xzvf boost_1_55_0.tar.gz
      - cd boost_1_55_0/ && sudo apt-get update && sudo apt-get install build-essential g++ python-dev autotools-dev libicu-dev build-essential libbz2-dev libboost-all-dev && ./bootstrap.sh --prefix=/usr/ --with-libraries=date_time,filesystem,system,iostreams,regex,python,test && ./b2 && sudo ./b2 install && cd ../../

compile:
    override:
        # Place here whatever commands are necessary to build your project.
      - make

test:
    override:
        - bash augmented-reality
        - echo "Nothing to do here"
